webpackJsonp([0],{S2AS:function(module,__webpack_exports__,__webpack_require__){"use strict";var __WEBPACK_IMPORTED_MODULE_0__assets_js_cookieHandle__=__webpack_require__("xSLg");__webpack_exports__.a={components:{},data:function(){return{decimals:4,step:1,ess_address:essAddress,account_address:"",token_balance:0,token_unit:"ESS",lock_bonus:0,withdraw_bonus:0,lock_percent:"",total_bonus:0,lock_total_bonus:0,jackpot_1:0,jackpot_2:0,bonus_end_time:0,bonus_less_time:0,bonus_less_time_show:"",bonustimer:null,show_buy_btn:!1,buy_url:buy_url}},created:function(){this.datacheckweb3=checkweb3()},mounted:function mounted(){var _vue=this;if(!checkweb3())return!1;var _vue=this;window.eventQueue={},window.loopBlock=function(lastblock){web3.eth.getBlockNumber().then(function(newblock){newblock>lastblock?(_vue.load_account(),web3.eth.getBlock(newblock).then(function(blockinfo){try{for(var i=0;i<blockinfo.transactions.length;i++){var txhash=blockinfo.transactions[i];for(var queuehash in eventQueue)if(txhash==queuehash){var funcname=eventQueue[queuehash];delete eventQueue[queuehash];try{eval(funcname+"('"+txhash+"')")}catch(t){}}}}catch(t){}loopBlock(newblock)})):loopBlock(newblock)})},loopBlock(0),_vue.account_address=window.eth_account,_vue.load_account();var button=document.getElementById("j-copy");button.onclick=function(t){document.getElementById("share-link").select(),document.execCommand("copy",!1,null),_vue.$message({message:_vue.$t("m.token.copyed"),center:!0})};var button=document.getElementById("j-copy1");button.onclick=function(t){document.getElementById("share-link1").select(),document.execCommand("copy",!1,null),_vue.$message({message:_vue.$t("m.token.copyed"),center:!0})}},methods:{addressValue:function(t,e,s,o){try{return t.substr(0,e)+o+t.substr(e+s,t.length)}catch(t){}},send_withdraw:function(){if(!checkweb3())return!1;essContract.methods.withdraw().send({from:eth_account,value:0,gasPrice:web3.utils.toWei("20","gwei")},function(t,e){t||(eventQueue[e]="withdraw_done",window.withdraw_done=function(t){})})},send_computebonus:function(){if(!checkweb3())return!1;essContract.methods.computeBonus().send({from:eth_account,value:0,gasPrice:web3.utils.toWei("20","gwei")},function(t,e){t||(eventQueue[e]="computebonus_done",window.computebonus_done=function(t){})})},load_account:function(){var t=this;essContract.methods.balanceOf(t.account_address).call(null,function(e,s){var o=web3.utils.fromWei(s.valueOf(),"ether");o=Number(o).toFixed(t.decimals),t.token_balance=o,essContract.methods.symbol().call(null,function(e,s){t.token_unit=s.valueOf()}),essContract.methods.totalSupply().call(null,function(e,o){if(0==o)t.lock_percent=0;else{var n=s.valueOf()/o.valueOf()*100;n=Number(n).toFixed(t.decimals),t.lock_percent=n}})}),essContract.methods.isOffering().call(null,function(e,s){e||(t.show_buy_btn=s.valueOf())}),essContract.methods.lockedBonus(eth_account).call(null,function(e,s){if(!e){var o=web3.utils.fromWei(s.valueOf(),"ether");o=Number(o).toFixed(t.decimals),t.lock_bonus=o}}),essContract.methods.withdrawableBonus(eth_account).call(null,function(e,s){if(!e){var o=web3.utils.fromWei(s.valueOf(),"ether");o=Number(o).toFixed(t.decimals),t.withdraw_bonus=o}}),web3.eth.getBalance(essAddress).then(function(e){e=web3.utils.fromWei(e.valueOf(),"ether");e=Number(e).toFixed(t.decimals),t.total_bonus=e}),essContract.methods.lockBonusTotal().call(null,function(e,s){if(!e){var o=web3.utils.fromWei(s.valueOf(),"ether");o=Number(o).toFixed(t.decimals),t.lock_total_bonus=o}}),essContract.methods.getSettlementTime().call(null,function(e,s){e||(t.bonus_end_time=s.valueOf(),t.bonus_end_time>0&&(window.nowTime=Math.floor((new Date).getTime()/1e3),t.bonus_less_time=t.bonus_end_time-nowTime,t.bonustimer||(t.bonustimer=setInterval(function(){if(t.bonus_less_time--,t.bonus_less_time>=0){var e=t.bonus_less_time,s=Math.floor(e/86400);e%=86400;var o=Math.floor(e/3600);e%=3600;var n=Math.floor(e/60),a=e%60;t.bonus_less_time_show=s+t.$t("m.tokenbuy.day")+o+t.$t("m.tokenbuy.hour")+n+t.$t("m.tokenbuy.minute")+a+t.$t("m.tokenbuy.second")}else t.bonus_less_time_show=" - "},1e3))))})}}}},SlSn:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("S2AS"),n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("div",{staticClass:"page-ioc"},[1==t.step?s("div",{staticClass:"tokenwrap ico-index"},[s("div",{staticClass:"m_info"},[s("div",{staticClass:"box",staticStyle:{"padding-right":"60px","flex-shrink":"0","min-width":"20%"}},[s("div",{staticClass:"tit"},[t._v(t._s(t.$t("m.token.tokenname")))]),t._v(" "),s("div",{staticClass:"info"},[t._v("Ether Sesame")])]),t._v(" "),s("div",{staticClass:"box",staticStyle:{"padding-right":"60px","flex-shrink":"0","min-width":"14%"}},[s("div",{staticClass:"tit"},[t._v(t._s(t.$t("m.token.tokenid")))]),t._v(" "),s("div",{staticClass:"info"},[t._v(t._s(t.token_unit))])]),t._v(" "),s("div",{staticClass:"box flex-2",staticStyle:{"padding-right":"60px"}},[s("div",{staticClass:"tit"},[t._v(t._s(t.$t("m.token.contract_address")))]),t._v(" "),s("div",{staticClass:"info"},[s("span",{staticClass:"info-text share-link"},[t._v(t._s(t.addressValue(t.ess_address,12,19,"......")))]),t._v(" "),s("input",{attrs:{type:"text",readonly:"readonly",id:"share-link"},domProps:{value:t.ess_address}}),t._v(" "),s("a",{staticClass:"info-btn",attrs:{href:"",target:"_blank"}},[t._v(t._s(t.$t("m.token.view_source")))]),t._v(" "),s("span",{staticClass:"info-btn",attrs:{id:"j-copy"}},[t._v(t._s(t.$t("m.token.copy")))])])])]),t._v(" "),s("div",{staticClass:"m_info active"},[s("div",{staticClass:"box flex-box"},[s("div",{staticClass:"tit"},[t._v(t._s(t.$t("m.token.tokenname"))+"：")]),t._v(" "),s("div",{staticClass:"info"},[t._v("Ether Sesame")])]),t._v(" "),s("div",{staticClass:"box flex-box"},[s("div",{staticClass:"tit"},[t._v(t._s(t.$t("m.token.tokenid"))+"：")]),t._v(" "),s("div",{staticClass:"info"},[t._v(t._s(t.token_unit))])]),t._v(" "),s("div",{staticClass:"box",staticStyle:{"margin-top":"0.4rem"}},[s("div",{staticClass:"tit"},[t._v(t._s(t.$t("m.token.contract_address")))]),t._v(" "),s("div",{staticClass:"info info-link info-address share-link"},[s("input",{attrs:{type:"text",readonly:"readonly",id:"share-link1"},domProps:{value:t.ess_address}}),s("a",{attrs:{href:"",target:"_blank"}},[t._v(t._s(t.addressValue(t.ess_address,8,26,"......"))+" ")]),t._v("  "),s("i",{staticClass:"iconfont",attrs:{id:"j-copy1"}},[t._v("")])])])]),t._v(" "),s("div",{staticClass:"m_block clear_fix"},[s("div",{staticClass:"box box1"},[s("div",{staticClass:"tit"},[t._v(t._s(t.$t("m.token.box1.dividend_account"))+"（ETH）")]),t._v(" "),s("div",{staticClass:"conbox jackpot"},[s("div",{staticClass:"titname"},[t._v(t._s(t.$t("m.token.box1.bonus_pool")))]),t._v(" "),s("div",{staticClass:"num"},[t._v(t._s(t._f("splitText1")(Number(t.total_bonus-t.lock_total_bonus).toFixed(t.decimals)))+"."),s("span",[t._v(t._s(t._f("splitText2")(Number(t.total_bonus-t.lock_total_bonus).toFixed(t.decimals))))])]),t._v(" "),s("div",{staticClass:"tokenname"},[t._v("ETH")])]),t._v(" "),s("div",{staticClass:"flex-box czbox"},[s("div",{staticClass:"chaozuo chaozuo-left left"},[s("div",{staticClass:"line1"},[t._v(t._s(t.$t("m.token.box1.locking_bonus"))+"（ETH）")]),t._v(" "),s("div",{staticClass:"line2"},[t._v(t._s(t.lock_bonus))]),t._v(" "),s("div",{staticClass:"line3 box1-line3 flex-box lock_box"},[s("span",[t._v(t._s(t.$t("m.token.box1.proportion"))+" : "+t._s(t.lock_percent)+"%")])]),t._v(" "),s("div",{staticClass:"line3 box1-line3 flex-box lock_box"},[s("span",[t._v(t._s(t.$t("m.token.box1.settletime"))+" : "+t._s(t.bonus_less_time_show))])])]),t._v(" "),s("div",{staticClass:"chaozuo right"},[s("div",{staticClass:"line1"},[t._v(t._s(t.$t("m.token.box1.pay_dividends"))+"（ETH）")]),t._v(" "),s("div",{staticClass:"line2"},[t._v(t._s(t.withdraw_bonus))]),t._v(" "),s("div",{staticClass:"line3"},[s("el-button",{attrs:{disabled:t.withdraw_bonus<=0},on:{click:function(e){t.send_withdraw()}}},[t._v(t._s(t.$t("m.token.box1.withdraw_cash")))])],1)])])]),t._v(" "),s("div",{staticClass:"box box2"},[s("div",{staticClass:"tit"},[t._v(t._s(t.$t("m.token.box2.tokens_account")))]),t._v(" "),s("div",{staticClass:"conbox"},[s("div",{staticClass:"titname"},[t._v(t._s(t.$t("m.token.box2.token_balance")))]),t._v(" "),s("div",{staticClass:"num"},[t._v(t._s(t._f("splitText1")(t.token_balance))+"."),s("span",[t._v(t._s(t._f("splitText2")(t.token_balance)))])]),t._v(" "),s("div",{staticClass:"tokenname"},[t._v(" "+t._s(t.token_unit))])]),t._v(" "),s("a",{directives:[{name:"show",rawName:"v-show",value:t.show_buy_btn,expression:"show_buy_btn"}],staticClass:"btnfundraising",attrs:{href:t.buy_url,class:"btnfundraising"}},[t._v(t._s(t.$t("m.token.box2.ICO_fundraising")))]),t._v(" "),s("div",{staticClass:"explain"},[t._v(t._s(t.$t("m.token.box2.explain")))])])])]):t._e(),t._v(" "),s("div",{staticClass:"footer"},[s("div",{staticClass:"line2"},[t._v(t._s(t.$t("m.public.footer.tip")))])])])])},staticRenderFns:[]};var a=function(t){s("hrXw")},i=s("C7Lr")(o.a,n,!1,a,"data-v-271a687f",null);e.default=i.exports},hrXw:function(t,e){}});